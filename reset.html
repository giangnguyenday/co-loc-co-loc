<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Reset - Co Loc Co Loc</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:opsz,wdth,wght@6..144,25..151,1..1000&display=swap"
    />
    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body class="page page--info">
    <header class="topbar">
      <a class="brand" href="index.html" aria-label="Ca Loc Ca Loc">
        <svg width="20" height="29" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M7.43083 12.9135C8.6372 11.7536 10.349 10.8177 12.8802 10.8177C17.0047 10.8177 20 13.3995 20 17.9252C20 24.6604 14.3195 29 7.66571 29C4.82642 29 2.80265 27.6161 2.80265 24.6225L2.76319 7.8205C2.76319 6.43479 1.82365 5.57482 0.508296 5.35079C0.158787 5.27491 0.00282288 5.12676 0.00282288 4.82686V4.07709C-0.0234842 3.81513 0.136238 3.57123 0.391793 3.47909C2.92104 2.46916 4.05036 1.68327 5.65322 0.301169C5.83925 0.0970159 6.11171 -0.0131904 6.39358 0.00126286H7.05501C7.31996 0.00848951 7.53042 0.219869 7.5229 0.476415C7.5229 0.480028 7.5229 0.483642 7.5229 0.487255L7.43083 12.9135ZM7.50975 23.3921C7.50975 25.1121 8.71424 26.01 10.272 26.01C13.3462 26.01 15.9092 23.7282 15.9092 20.2865C15.9092 16.8448 13.6543 14.8249 10.6948 14.8249C9.49594 14.8303 8.3497 15.3019 7.51539 16.1293L7.50975 23.3921Z" fill="#D50B0B"/>
        </svg>
      </a>
      <nav class="nav">
        <a class="nav-link nav-link--info" href="info.html">Information</a>
        <a class="nav-link nav-link--lang" href="#" aria-label="Switch language to Vietnamese">VIE</a>
      </nav>
    </header>

    <main class="main">
      <section class="info-card">
        <h1>Reset Local Data</h1>
        <p>
          This clears saved horses and motion permission so you can test from scratch.
        </p>
        <div class="controls">
          <button id="resetButton" class="btn fortune-button heading-3">Reset</button>
        </div>
        <p id="resetStatus" class="body-text" role="status" aria-live="polite"></p>
        <a class="btn primary heading-3" href="index.html">Back to the draw</a>
      </section>
    </main>

    <script>
      (() => {
        const resetButton = document.getElementById("resetButton");
        const resetStatus = document.getElementById("resetStatus");

        const resetStorage = () => {
          try {
            localStorage.removeItem("tethorse.discoveredHorses");
            localStorage.removeItem("tethorse.motionGranted");
            if (resetStatus) {
              resetStatus.textContent = "Reset complete.";
            }
          } catch (error) {
            if (resetStatus) {
              resetStatus.textContent = "Reset failed. Check browser settings.";
            }
          }
        };

        resetButton?.addEventListener("click", resetStorage);
      })();
    </script>
  </body>
</html>
